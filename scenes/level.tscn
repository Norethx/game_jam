[gd_scene load_steps=10 format=4 uid="uid://d22ricinbil1t"]

[ext_resource type="Texture2D" uid="uid://bbndbo13yq7fr" path="res://assets/tilemaps/Tiles.png" id="2_w7c3h"]
[ext_resource type="PackedScene" uid="uid://254typx87wf3" path="res://scenes/parallax.tscn" id="3_mx8sn"]
[ext_resource type="PackedScene" uid="uid://dlcxoq3qojvl8" path="res://scenes/PlayerKnight.tscn" id="3_w8frs"]
[ext_resource type="PackedScene" uid="uid://ncdt7lahrqi2" path="res://scenes/Penemys/penemy.tscn" id="4_mx8sn"]
[ext_resource type="PackedScene" uid="uid://bpuveq8f1e732" path="res://scenes/hud.tscn" id="5_ppgk2"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_w7c3h"]
distance = -600.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_w7c3h"]
texture = ExtResource("2_w7c3h")
10:9/size_in_atlas = Vector2i(10, 5)
10:9/0 = 0
10:9/0/physics_layer_0/polygon_0/points = PackedVector2Array(-80, 8, -20, -20, 16, -20, 80, 8, 80, 40, -80, 40)
8:1/size_in_atlas = Vector2i(6, 3)
8:1/0 = 0
8:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-48, -8, 48, -8, 48, 24, -48, 24)

[sub_resource type="TileSet" id="TileSet_w8frs"]
physics_layer_0/collision_layer = 1
physics_layer_0/collision_mask = 6
sources/0 = SubResource("TileSetAtlasSource_w7c3h")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ppgk2"]
size = Vector2(20, 272)

[node name="Level" type="Node2D"]

[node name="StaticBody2D" type="Area2D" parent="."]
position = Vector2(1, -200)
collision_mask = 6

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(0, 530)
shape = SubResource("WorldBoundaryShape2D_w7c3h")

[node name="Tiles" type="Node" parent="."]

[node name="Ground" type="TileMapLayer" parent="Tiles"]
z_index = -1
tile_map_data = PackedByteArray("AAAOABgAAAAIAAEAAAAIABgAAAAIAAEAAAACABgAAAAIAAEAAAAeABgAAAAIAAEAAAAkABgAAAAIAAEAAAAWABcAAAAKAAkAAAA=")
tile_set = SubResource("TileSet_w8frs")

[node name="Parallax" parent="." instance=ExtResource("3_mx8sn")]

[node name="PlayerKnight" parent="." instance=ExtResource("3_w8frs")]
position = Vector2(177, 345)

[node name="Penemies" type="Node" parent="."]

[node name="Penemy" parent="Penemies" instance=ExtResource("4_mx8sn")]
position = Vector2(357, 326)

[node name="HUD" parent="." instance=ExtResource("5_ppgk2")]

[node name="StaticBody2D2" type="StaticBody2D" parent="."]
position = Vector2(0, 351)

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D2"]
position = Vector2(0, -94)
shape = SubResource("RectangleShape2D_ppgk2")

[connection signal="upate_armor" from="PlayerKnight" to="HUD" method="_on_player_knight_upate_armor"]
[connection signal="upate_health" from="PlayerKnight" to="HUD" method="_on_player_knight_upate_health"]
[connection signal="update_stamina" from="PlayerKnight" to="HUD" method="_on_player_knight_update_stamina"]
