[gd_scene load_steps=7 format=4 uid="uid://d22ricinbil1t"]

[ext_resource type="Texture2D" uid="uid://bbndbo13yq7fr" path="res://assets/tilemaps/Tiles.png" id="2_w7c3h"]
[ext_resource type="PackedScene" uid="uid://bbvbe3ten3p64" path="res://scenes/PlayerKnight.tscn" id="3_w8frs"]

[sub_resource type="GDScript" id="GDScript_2q6dc"]
script/source = "extends CharacterBody2D


const SPEED = 300.0
const JUMP_VELOCITY = -400.0


func _physics_process(delta: float) -> void:
	# Add the gravity.
	if not is_on_floor():
		velocity += get_gravity() * delta

	# Handle jump.
	if Input.is_action_just_pressed(\"ui_accept\") and is_on_floor():
		velocity.y = JUMP_VELOCITY

	# Get the input direction and handle the movement/deceleration.
	# As good practice, you should replace UI actions with custom gameplay actions.
	var direction := Input.get_axis(\"ui_left\", \"ui_right\")
	if direction:
		velocity.x = direction * SPEED
	else:
		velocity.x = move_toward(velocity.x, 0, SPEED)

	move_and_slide()
"

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_w7c3h"]
distance = -589.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_w7c3h"]
texture = ExtResource("2_w7c3h")
8:1/size_in_atlas = Vector2i(6, 3)
8:1/0 = 0
8:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-48, -8, 48, -8, 48, 24, -48, 24)

[sub_resource type="TileSet" id="TileSet_w8frs"]
physics_layer_0/collision_layer = 1
physics_layer_0/collision_mask = 6
sources/0 = SubResource("TileSetAtlasSource_w7c3h")

[node name="Level" type="Node2D"]

[node name="PlayerKnight" parent="." instance=ExtResource("3_w8frs")]
position = Vector2(522, 358)
script = SubResource("GDScript_2q6dc")

[node name="StaticBody2D" type="StaticBody2D" parent="."]
position = Vector2(1, -200)
collision_mask = 6

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(0, 530)
shape = SubResource("WorldBoundaryShape2D_w7c3h")

[node name="Tiles" type="Node" parent="."]

[node name="Ground" type="TileMapLayer" parent="Tiles"]
z_index = -1
tile_map_data = PackedByteArray("AAAgABgAAAAIAAEAAAAaABgAAAAIAAEAAAAUABgAAAAIAAEAAAAOABgAAAAIAAEAAAAmABgAAAAIAAEAAAAsABgAAAAIAAEAAAAyABgAAAAIAAEAAAAIABgAAAAIAAEAAAACABgAAAAIAAEAAAA4ABgAAAAIAAEAAAA+ABgAAAAIAAEAAABEABgAAAAIAAEAAABKABgAAAAIAAEAAABQABgAAAAIAAEAAAA=")
tile_set = SubResource("TileSet_w8frs")
